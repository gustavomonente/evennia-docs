<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="./img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Internationalization - Evennia Manual</title>
    <link href="./css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="./css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="./css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="./js/jquery-3.2.1.min.js"></script>
    <script src="./js/bootstrap-3.3.7.min.js"></script>
    <script src="./js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '.';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Changing server language", url: "#_top", children: [
          ]},
          {title: "Translating Evennia", url: "#translating-evennia", children: [
          ]},
        ];

    </script>
    <script src="./js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    

    <p><a href="How-to-modify-Evennia's-core-strings-to-use-another-language-than-English."></a></p>
<p><em>Internationalization</em> (often abbreviated <em>i18n</em> since there are 18 characters between the first "i"
and the last "n" in that word) allows Evennia's core server to return texts in other languages than
English - without anyone having to edit the source code. Take a look at the <code>locale</code> directory of
the Evennia installation, there you will find which languages are currently supported.</p>
<h2 id="changing-server-language">Changing server language<a class="headerlink" href="#changing-server-language" title="Permanent link">&para;</a></h2>
<p>Change language by adding the following to your <code>mygame/server/conf/settings.py</code> file:</p>
<pre><code class="python">    USE_I18N = True
    LANGUAGE_CODE = 'en'
</code></pre>

<p>Here <code>'en'</code> should be changed to the abbreviation for one of the supported languages found in <code>locale/</code>. Restart the server to activate i18n. The two-character international language codes are found <a href="http://www.science.co.il/Language/Codes.asp">here</a>.</p>
<blockquote>
<p>Windows Note: If you get errors concerning <code>gettext</code> or <code>xgettext</code> on Windows, see the <a href="https://docs.djangoproject.com/en/1.7/topics/i18n/translation/#gettext-on-windows">Django documentation</a>. A self-installing and up-to-date version of gettext for Windows (32/64-bit) is available on <a href="https://github.com/mlocati/gettext-iconv-windows">Github</a>.</p>
</blockquote>
<h2 id="translating-evennia">Translating Evennia<a class="headerlink" href="#translating-evennia" title="Permanent link">&para;</a></h2>
<blockquote>
<p><strong>Important Note:</strong> Evennia offers translations of hard-coded strings in the server, things like "Connection closed" or "Server restarted", strings that end users will see and which game devs are not supposed to change on their own. Text you see in the log file or on the command line (like error messages) are generally <em>not</em> translated (this is a part of Python).</p>
<p>In addition, text in default Commands and in default Typeclasses will <em>not</em> be translated by switching <em>i18n</em> language. To translate Commands and Typeclass hooks you must overload them in your game directory and translate their returns to the language you want. This is because from Evennia's perspective, adding <em>i18n</em> code to commands tend to add complexity to code that is <em>meant</em> to be changed anyway. One of the goals of Evennia is to keep the user-changeable code as clean and easy-to-read as possible.</p>
</blockquote>
<p>If you cannot find your language in <code>evennia/locale/</code> it's because noone has translated it yet. Alternatively you might have the language but find the translation bad ... You are welcome to help improve the situation!</p>
<p>To start a new translation you need to first have cloned the Evennia repositry with GIT and activated a python virtualenv as described on the <a href="Getting-Started">Getting Started</a> page. You now need to <code>cd</code> to the <code>evennia/</code> directory. This is <em>not</em> your created game folder but the main Evennia library folder. If you see a folder <code>locale/</code> then you are in the right place. From here you run:</p>
<pre><code> evennia makemessages &lt;language-code&gt;
</code></pre>
<p>where <code>&lt;language-code&gt;</code> is the <a href="http://www.science.co.il/Language/Codes.asp">two-letter locale code</a> for the language you want, like 'sv' for Swedish or 'es' for Spanish. After a moment it will tell you the language has been processed.  For instance:</p>
<pre><code> evennia makemessages sv
</code></pre>
<p>If you started a new language a new folder for that language will have emerged in the <code>locale/</code> folder. Otherwise the system will just have updated the existing translation with eventual new strings found in the server. Running this command will not overwrite any existing strings so you can run it as much as you want.</p>
<blockquote>
<p>Note: in Django, the <code>makemessages</code> command prefixes the locale name by the <code>-l</code> option (<code>... makemessages -l sv</code> for instance).  This syntax is not allowed in Evennia, due to the fact that <code>-l</code> is the option to tail log files.  Hence, <code>makemessages</code> doesn't use the <code>-l</code> flag.</p>
</blockquote>
<p>Next head to <code>locale/&lt;language-code&gt;/LC_MESSAGES</code> and edit the <code>**.po</code> file you find there.  You can edit this with a normal text editor but it is easiest if you use a special po-file editor from the web (search the web for "po editor" for many free alternatives).</p>
<p>The concept of translating is simple, it's just a matter of taking the english strings you find in
the <code>**.po</code> file and add your language's translation best you can. The <code>**.po</code> format (and many
supporting editors) allow you to mark translations as "fuzzy". This tells the system (and future
translators) that you are unsure about the translation, or that you couldn't find a translation that
exactly matched the intention of the original text. Other translators will see this and might be
able to improve it later.
Finally, you need to compile your translation into a more efficient form. Do so from the <code>evennia</code> folder
again:</p>
<pre><code>evennia compilemessages
</code></pre>
<p>This will go through all languages and create/update compiled files (<code>**.mo</code>) for them. This needs to be done whenever a <code>**.po</code> file is updated.</p>
<p>When you are done, send the <code>**.po</code> and <code>*.mo</code> file to the Evennia developer list (or push it into your own repository clone) so we can integrate your translation into Evennia!</p>

  <br>
    

    <br>
</div>

<footer class="col-md-12 wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>