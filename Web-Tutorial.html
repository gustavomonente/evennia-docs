<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="img/favicon.ico">
        <title>Web Tutorial - Evennia Manual</title>
        <link href="css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="css/font-awesome.min.css" rel="stylesheet">
        <link href="css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="js/jquery-1.10.2.min.js" defer></script>
        <script src="js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="index.html">Evennia Manual</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="index.html">Home</a>
                            </li>
                            <li >
                                <a href="Administrative-Docs.html">Admin</a>
                            </li>
                            <li >
                                <a href="Builder-Docs.html">Building</a>
                            </li>
                            <li >
                                <a href="Developer-Central.html">Game Development</a>
                            </li>
                            <li >
                                <a href="Tutorials.html">Tutorials</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#a-basic-overview">A Basic Overview</a></li>
        <li class="main "><a href="#changing-the-logo-on-the-front-page">Changing the logo on the front page</a></li>
        <li class="main "><a href="#changing-the-front-pages-text">Changing the Front Page's Text</a></li>
        <li class="main "><a href="#further-reading">Further reading</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p>Evennia uses the <a href="https://www.djangoproject.com/">Django</a> web framework as the basis of both its database configuration and the website it provides. While a full understanding of Django requires reading the Django documentation, we have provided this tutorial to get you running with the basics and how they pertain to Evennia. This text details getting everything set up. The <a href="Web-Character-View-Tutorial">Web-based Character view Tutorial</a> gives a more explicit example of making a custom web page connected to your game, and you may want to read that after finishing this guide.</p>
<h2 id="a-basic-overview">A Basic Overview<a class="headerlink" href="#a-basic-overview" title="Permanent link">&para;</a></h2>
<p>Django is a web framework. It gives you a set of development tools for building a website quickly and easily.</p>
<p>Django projects are split up into <em>apps</em> and these apps all contribute to one project. For instance, you might have an app for conducting polls, or an app for showing news posts or, like us, one for creating a web client.</p>
<p>Each of these applications has a <code>urls.py</code> file, which specifies what <a href="http://en.wikipedia.org/wiki/Uniform_resource_locator">URL</a>s are used by the app, a <code>views.py</code> file for the code that the URLs activate, a <code>templates</code> directory for displaying the results of that code in <a href="http://en.wikipedia.org/wiki/Html">HTML</a> for the user, and a <code>static</code> folder that holds assets like <a href="http://en.wikipedia.org/wiki/CSS">CSS</a>, <a href="http://en.wikipedia.org/wiki/Javascript">Javascript</a>, and Image files (You may note your mygame/web folder does not have a <code>static</code> or <code>template</code> folder. This is intended and explained further below). Django applications may also have a <code>models.py</code> file for storing information in the database. We will not change any models here, take a look at the <a href="https://github.com/evennia/evennia/wiki/New%20Models">New Models</a> page (as well as the <a href="https://docs.djangoproject.com/en/1.7/topics/db/models/">Django docs</a> on models) if you are interested.</p>
<p>There is also a root <code>urls.py</code> that determines the URL structure for the entire project. A starter <code>urls.py</code> is included in the default game template, and automatically imports all of Evennia's default URLs for you. This is located in <code>web/urls.py</code>.</p>
<h2 id="changing-the-logo-on-the-front-page">Changing the logo on the front page<a class="headerlink" href="#changing-the-logo-on-the-front-page" title="Permanent link">&para;</a></h2>
<p>Evennia's default logo is a fun little googly-eyed snake wrapped around a gear globe. As cute as it is, it probably doesn't represent your game. So one of the first things you may wish to do is replace it with a logo of your own.</p>
<p>Django web apps all have <em>static assets</em>: CSS files, Javascript files, and Image files. In order to make sure the final project has all the static files it needs, the system collects the files from every app's <code>static</code> folder and places it in the <code>STATIC_ROOT</code> defined in <code>settings.py</code>. By default, the Evennia <code>STATIC_ROOT</code> is in <code>web/static</code>.</p>
<p>Because Django pulls files from all of those separate places and puts them in one folder, it's possible for one file to overwrite another. We will use this to plug in our own files without having to change anything in the Evennia itself.</p>
<p>By default, Evennia is configured to pull files you put in the <code>web/static_overrides</code> <em>after</em> all other static files. That means that files in <code>static_overrides</code> folder will overwrite any previously loaded files <em>having the same path under its static folder</em>. This last part is important to repeat: To overload the static resource from a standard <code>static</code> folder you need to replicate the path of folders and file names from that <code>static</code> folder in exactly the same way inside <code>static_overrides</code>.</p>
<p>Let's see how this works for our logo. The default web application is in the Evennia library itself, in <code>evennia/web/</code>. We can see that there is a <code>static</code> folder here. If we browse down, we'll eventually find the full path to the Evennia logo file: <code>evennia/web/static/evennia_general/images/evennia_logo.png</code>.</p>
<p>Inside our <code>static_overrides</code> we must replicate the part of the path inside the <code>static</code> folder, in other words, we must replicate <code>evennia_general/images/evennia_logo.png</code>.</p>
<p>So, to change the logo, we need to create the folder path <code>evennia_general/images/</code> in <code>static_overrides</code>. We then rename our own logo file to <code>evennia_logo.png</code> and copy it there. The final path for this file would thus be: <code>web/static_overrides/evennia_general/images/evennia_logo.png</code> in your local game folder.</p>
<p>To get this file pulled in, just change to your own game directory and reload the server:</p>
<pre><code>evennia reload
</code></pre>

<p>This will reload the configuration and bring in the new static file(s). If you didn't want to reload the server you could instead use</p>
<pre><code>evennia collectstatic
</code></pre>

<p>to only update the static files without any other changes.</p>
<blockquote>
<p><strong>Note</strong>: Evennia will collect static files automatically during startup. So if <code>evennia collectstatic</code> reports finding 0 files to collect, make sure you didn't start the engine at some point - if so the collector has already done its work! To make sure, connect to the website and check so the logo has actually changed to your own version.</p>
<p><strong>Note</strong>: Sometimes the static asset collector can get confused. If no matter what you do, your overridden files aren't getting copied over the defaults, try removing the target file (or everything) in the <code>web/static</code> directory, and re-running <code>collectstatic</code> to gather everything from scratch.</p>
</blockquote>
<h2 id="changing-the-front-pages-text">Changing the Front Page's Text<a class="headerlink" href="#changing-the-front-pages-text" title="Permanent link">&para;</a></h2>
<p>The default front page for Evennia contains information about the Evennia project. You'll probably want to replace this information with information about your own project. Changing the page template is done in a similar way to changing static resources.</p>
<p>Like static files, Django looks through a series of template folders to find the file it wants. The difference is that Django does not copy all of the template files into one place, it just searches through the template folders until it finds a template that matches what it's looking for. This means that when you edit a template, the changes are instant. You don't have to reload the server or run any extra commands to see these changes - reloading the web page in your browser is enough.</p>
<p>To replace the index page's text, we'll need to find the template for it. We'll go into more detail about how to determine which template is used for rendering a page in the <a href="Web-Character-View-Tutorial">Web-based Character view Tutorial</a>. For now, you should know that the template we want to change is stored in <code>evennia/web/website/templates/website/index.html</code>.</p>
<p>To replace this template file, you will put your changed template inside the <code>web/template_overrides/website</code> directory in your game folder. In the same way as with static resources you must replicate the path inside the default <code>template</code> directory exactly. So we must copy our replacement template named <code>index.html</code> there (or create the <code>website</code> directory in web/template_overrides<code>if it does not exist, first). The final path to the file should thus be:</code>web/template_overrides/website/index.html` within your game directory.</p>
<p>Note that it is usually easier to just copy the original template over and edit it in place. The original file already has all the markup and tags, ready for editing.</p>
<h2 id="further-reading">Further reading<a class="headerlink" href="#further-reading" title="Permanent link">&para;</a></h2>
<p>For further hints on working with the web presence, you could now continue to the <a href="Web-Character-View-Tutorial">Web-based Character view Tutorial</a> where you learn to make a web page that displays in-game character stats. You can also look at <a href="https://docs.djangoproject.com/en/1.7/intro/tutorial01/">Django's own tutorial</a> to get more insight in how Django works and what possibilities exist.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = ".",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="js/base.js" defer></script>
        <script src="search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
